function isVisible(t){var i=myScroll+$(window).height(),e=t.offset().top,s=e+$(t).height();return i>=s&&e>=myScroll}function setBurgerMenu(){"none"!==$("#burger").css("display")&&$("#burger").click(function(){return $("#menu").toggleClass("down"),$("#logo").toggleClass("down"),setTimeout(function(){$("#burger").toggleClass("down")},300),!1})}function animTxt(){var t=$("#typewrite"),i=t[0].getAttribute("data-type"),e=t[0].getAttribute("data-period");i&&new TxtType(t[0],jQuery.parseJSON(i),e)}function animMosaique(){function t(i){function e(){rand=Math.floor(9*Math.random());for(var t in imgVisible)imgVisible[t]!==img[rand]?newImg=img[rand]:e()}function s(t,i){t.data("img",newImg).attr("src","layoutImg/home/mos"+newImg+".jpg").addClass("up").fadeTo(1e3,1),i.removeClass("up").fadeTo(1e3,0)}for(var n=$("#mosaique").find("div"),a=n.eq(i).find(".img1"),o=n.eq(i).find(".img2"),l=0;4>l;l++)imgVisible[l]=n.eq(l).find(".up").data("img");e(),a.hasClass("up")?s(o,a):s(a,o),setTimeout(function(){3===i?i=0:i++,t(i)},2e3)}for(var i=0;8>i;i++)$("#mosaique").find("img").eq(i).data("img",i+1);t(div)}function openPartners(){$(".packery").packery({itemSelector:".part"}).on("click",".part",function(){$(this).addClass("open").siblings().removeClass("open"),$(".packery").packery()}),$(".icon-close").click(function(){return $(this).parent(".part").removeClass("open"),$(".packery").packery(),!1})}function appearDetail(t){firstOpen=!0;var i=0!==t?$(this):onglets.eq(0),e=0!==t?"a"+$(this).index():"a0",s=$("#detail").attr("class");i.addClass("on").siblings().removeClass("on");var n=i.find("div").clone();$("#detail").removeClass().stop(),e!==s&&$("#detail").slideUp(300,function(){$(this).html(n).slideDown(300).addClass(e)}),0===t||$("html").hasClass("lt-ie9")||$("#avantages").mouseleave(function(){onglets.removeClass("on"),$("#detail").removeClass().stop().slideUp()})}function appearDetailAccordion(t){firstOpen=!0;var i=0!==t?$(this):onglets.eq(0);return i.hasClass("on")?i.removeClass("on").find("div").slideUp(300):(i.addClass("on").siblings().removeClass("on").find("div").slideUp(300),i.find("div").slideDown(300)),!1}var rand,newImg,myScroll,div=0,imgVisible=[],img=[1,2,3,4,5,6,7,8,9],firstOpen=!1,onglets=$("#avantages").find(".avantages > li"),TxtType=function(t,i,e){this.toRotate=i,this.el=t,this.loopNum=0,this.period=parseInt(e,50)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtType.prototype.tick=function(){var t=this.loopNum%this.toRotate.length,i=this.toRotate[t];this.txt=this.isDeleting?i.substring(0,this.txt.length-1):i.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var e=this,s=200-100*Math.random();this.isDeleting&&(s/=2),this.isDeleting||this.txt!==i?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,s=500):(s=this.period,this.isDeleting=!0),setTimeout(function(){e.tick()},s)},$(function(){if(setBurgerMenu(),$("body").hasClass("home")&&(animTxt(),animMosaique()),$(".packery").length&&openPartners(),$("#detail").length){var t=$("html").hasClass("lt-ie9")?"click":"mouseenter click";$(window).width()>720?onglets.on(t,appearDetail):onglets.on("click",appearDetailAccordion)}$(document).scroll(function(){myScroll=$(this).scrollTop(),$("#detail").length&&isVisible($(".avantages"))&&firstOpen===!1&&($(window).width()>720?appearDetail(0):appearDetailAccordion(0))})}),$(window).resize(function(){setBurgerMenu()});